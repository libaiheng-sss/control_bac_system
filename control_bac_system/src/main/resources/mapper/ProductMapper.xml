<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.control_bac_system.mapper.ProductMapper">

    <insert id="addProduct" parameterType="com.example.control_bac_system.entity.Product">
        insert into product(productName,productCode,description,createTime)
            value (
            #{product.productName},
            #{product.productCode},
            #{product.description},
            #{product.createTime}
            )
    </insert>

    <delete id="deleteProduct" parameterType="com.example.control_bac_system.entity.Product">
        delete from product where id = #{product.id}
    </delete>

    <select id="selectProductTotal" resultType="java.lang.Integer">
        select count(1) from product
    </select>

    <select id="selectProductByLimit" parameterType="com.example.control_bac_system.entity.PageQuery" resultType="com.example.control_bac_system.entity.Product">
        select
            id,
            productName,
            productCode,
            description,
            DATE_FORMAT(FROM_UNIXTIME(createTime/1000),'%Y-%m-%d %H:%i:%s') as createTime
        from
            product
        ORDER BY createTime DESC
        limit #{pageQuery.start},#{pageQuery.end}
    </select>
</mapper>